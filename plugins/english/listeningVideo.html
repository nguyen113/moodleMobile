<script>
var tag = document.createElement("script"); 
			tag.src = "https://www.youtube.com/iframe_api"; 
			var firstScriptTag = document.getElementsByTagName("script")[0]; 
			firstScriptTag.parentNode.insertBefore(tag, firstScriptTag); 
			var player; 
			
			
			var timeupdater = null;
				var videotime = 0;
				function onPlayerReady(event) {
				function updateTime() {
					var oldTime = videotime;
					if(player && player.getCurrentTime) {
						videotime = player.getCurrentTime();
					}
					if(videotime !== oldTime) {
						onProgress(videotime);
					}
				}
				
				function onProgress(videotime){
					var currentTime=Math.round(videotime);
					if(currentTime==5){
						console.log("Current time " + player.getCurrentTime() );
						MM.panels.htmlAppend("center","<h1>Question 2</h1>");
					}
				}
				timeupdater = setInterval(updateTime, 1000);
				}
				function onPlayerStateChange(event){
						
				}
</script>
<div class="content-index">
    <header>
        <div class="media">
            <div class="bd">
                <h1>Moodle application - Listening - Media</h1>
                <p>Listening page of moodle mobile application</p>
            </div>
        </div>
    </header>
		<div class="video">
            <div class="nav nav-v">
				<div id="player">
					<div id="displayDiv">
						<div id="title">Rihanna - Take A Bow</div>
					</div>
				</div>             
            </div>
		</div>
</div>
<script>
	player = new YT.Player("player",{height: "390",width: "640",videoId: "_96j8n60ID8",events: {
		'onStateChange': onPlayerStateChange,
		'onReady': onPlayerReady
    }});	
</script>
<%= MM.panels.show('center','') %>
<%= MM.panels.appendShow('center','<h1>Question 1</h1>') %>
<%= MM.panels.htmlAppend('center','<h1>Question 1</h1>') %>
<%= MM.panels.htmlAppend('center','<h1>Question 1</h1>') %>
<%= MM.panels.htmlAppend('center','<h1>Question 1</h1>') %>
