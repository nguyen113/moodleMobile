<script>
	var player; 
	var playerState;
	var timeupdater = null;
	var videotime = 0;
	function getPoint(){
	//array nhung dap an da chon
	var choiced;
	//dap an dung
	var corrects;
	for (var i=0;i<questions.length; i++){
		correct[i] = questions[i].correct;
	}
	var tpl = {
		choiced: choiced,
		correct: correct
	}
	
		MM.panels.html('right', '');
		var html = MM.tpl.render(MM.plugins.english.templates.score.html, tpl);
		MM.panels.show('right', html);
		
	}
	
	function onPlayerReady(event) {
		MM.panels.html('center', '');
		MM.panels.htmlPrepend("center",'<input type="button" width="100%" value="END" onclick></input>');
		playerState = -1;
		function updateTime() {
			var oldTime = videotime;
			if(player && player.getCurrentTime) {
				videotime = player.getCurrentTime();
			}
			if(videotime !== oldTime) {
				onProgress(videotime);
			}
		}
		function onProgress(videotime){
			var currentTime=Math.round(videotime);
			if(currentTime==5){
				console.log("Current time " + player.getCurrentTime() );
				MM.panels.htmlPrepend("center",'<h2>Question 2</h2><div id="radio"><input type="radio" id="radio1" name="radio"><label for="radio1">Choice 1</label><input type="radio" id="radio2" name="radio" checked="checked"><label for="radio2">Choice 2</label>  <input type="radio" id="radio3" name="radio"><label for="radio3">Choice 3</label></div>');
			}
		}
		timeupdater = setInterval(updateTime, 1000);
	}
</script>
<div class="content-index">
		<div class="video">
            <div class="nav nav-v">
				<div id="player">
					<div id="displayDiv">
						<div id="title">Rihanna - Take A Bow</div>
					</div>
				</div>             
            </div>
		</div>
</div>
<div class="content-message"> 
<h1><%= questions %></h1>
</div>
<script>
	player = new YT.Player("player",{width: "100%",videoId: "<%= videoID %>",events: {
		'onReady': onPlayerReady
    }});
</script>
