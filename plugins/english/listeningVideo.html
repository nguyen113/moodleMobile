<script>

	var player; 
	var playerState;
	var timeupdater = null;
	var videotime = 0;
	function onPlayerReady(event) {
		playerState = -1;
		function updateTime() {
			var oldTime = videotime;
			if(player && player.getCurrentTime) {
				videotime = player.getCurrentTime();
			}
			if(videotime !== oldTime) {
				onProgress(videotime);
			}
		}
		function onProgress(videotime){
			var currentTime=Math.round(videotime);
			if(currentTime==5){
				console.log("Current time " + player.getCurrentTime() );
				MM.panels.htmlPrepend("center",'<h2>Question 2</h2><div id="radio"><input type="radio" id="radio1" name="radio"><label for="radio1">Choice 1</label><input type="radio" id="radio2" name="radio" checked="checked"><label for="radio2">Choice 2</label>  <input type="radio" id="radio3" name="radio"><label for="radio3">Choice 3</label></div>');
			}
		}
		timeupdater = setInterval(updateTime, 1000);
	}
	
	function onPlayerStateChange(event){
		if(event.data==YT.PlayerState.PLAYING && playerState ==-1) {
			playerState=event.data;
			MM.panels.show('center','');
			MM.panels.htmlAppend("center",'<h2>Question 1</h2><div id="radio"><input type="radio" id="radio1" name="radio"><label for="radio1">Choice 1</label><input type="radio" id="radio2" name="radio" checked="checked"><label for="radio2">Choice 2</label>  <input type="radio" id="radio3" name="radio"><label for="radio3">Choice 3</label></div>');

		}
	}
</script>
<div class="content-index">
		<div class="video">
            <div class="nav nav-v">
				<div id="player">
					<div id="displayDiv">
						<div id="title">Rihanna - Take A Bow</div>
					</div>
				</div>             
            </div>
		</div>
</div>
<script>
	player = new YT.Player("player",{width: "100%",videoId: "_96j8n60ID8",events: {
		'onStateChange': onPlayerStateChange,
		'onReady': onPlayerReady
    }});
</script>
